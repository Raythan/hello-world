#include <stdio.h>
#include <stdlib.h>
#include <locale.h> // Biblioteca que serve para alterar para idioma local!

void ErroTerreno(){
	printf("O terreno nao eh retangular.\nImpossivel calcular.\n");
}
void ErroCasaFora(){
	printf("A casa esta fora do terreno.\nImpossivel calcular.\n");
}
void DropMeteoroOff(){
	printf("O meteoro caiu fora do terreno.\n");
}

int main(){
	//  PARAMETRO DE PREENCHIMENTO
	// (X1, Y1) = 10, 40;
	// (X2, Y2) = 30, 40;
	// (X3, Y3) = 10, 10;
	// (X4, Y4) = 30, 10;
	// (CX, CY) = 30, 40;
	int terreno[8] = { 40, 10, 40, 30, 10, 10, 10, 30 }, casa[2], qtdMeteoros, meteoroMaisProximo = 0, posMet[4];
	
	setlocale(LC_ALL, "Portuguese"); // MÉTODO QUE PERMITE USAR CARACTERES ESPECIAIS NA IMPRESSÃO printf("çãéè");
	
//	printf("**************************\n\n");
//	printf("     V1---------V2\n");
//	printf("     |           |\n");
//	printf("     |           |\n");
//	printf("     V3---------V4\n\n");
//	printf("**************************\n\n");

//  //*********************************
//  //*	PREENCHIMENTO PASSO A PASSO   *
//  //*********************************
//	printf("Valor de latitude em V1: "); // Valor de Y1
//	scanf("%d", &terreno[0]);
//	printf("Valor de longitude em V1: "); // Valor de X1
//	scanf("%d", &terreno[1]);
//	printf("Valor de latitude em V2: "); // Valor de Y2
//	scanf("%d", &terreno[2]);
//	printf("Valor de longitude em V2: "); // Valor de X2
//	scanf("%d", &terreno[3]);
//	printf("Valor de latitude em V3: "); // Valor de Y3
//	scanf("%d", &terreno[4]);
//	printf("Valor de longitude em V3: "); // Valor de X3
//	scanf("%d", &terreno[5]);
//	printf("Valor de latitude em V4: "); // Valor de Y4
//	scanf("%d", &terreno[6]);
//	printf("Valor de longitude em V4: "); // Valor de X4
//	scanf("%d", &terreno[7]);
//	//
//	// Condicional que verifica se é um retângulo
//	//
//	if((terreno[1] != terreno[5]) || (terreno[0] != terreno[2]) || (terreno[4] != terreno[6]) || (terreno[3] != terreno[7])){ 
//		ErroTerreno();
//		return 0;
//	}
//	system("cls");
//	//*****************************************************************************

//	//*****************************
//	//*	PREENCHIMENTO COM LAÇO	  *
//	//*****************************
//	for(int i = 0, j = 0; i < 4; i++){
//		printf("Informe a Latitude(Y) de X%d: ", (i + 1));
//		scanf("%d", &terreno[j]);
//		j++;
//		printf("Informe a Longitude(X) de X%d: ", (i + 1));
//		scanf("%d", &terreno[j]);
//		j++;
//	}
//	//
//	// Condicional que verifica se é um retângulo
//	//
//	if((terreno[1] != terreno[5]) || (terreno[0] != terreno[2]) || (terreno[4] != terreno[6]) || (terreno[3] != terreno[7])){ 
//		ErroTerreno();
//		return 0;
//	}
//	//*****************************************************************************
	
	//********************************************
	//*		PREENCHENDO CASA					 *
	//********************************************
	printf("Posicao de Latitude(Y) da casa no terreno: "); // Informa o valor de Y da casa
	scanf("%d", &casa[0]);
	printf("Posicao de Longitude(X) da casa no terreno: "); // Informa o valor de X da casa
	scanf("%d", &casa[1]);
	if(casa[0] > terreno[0] || casa[0] < terreno[4] || casa[1] < terreno[1] || casa[1] > terreno[3]){
		ErroCasaFora();
	}
	system("cls");
	//*****************************************************************************
	printf("Informe a quantidade de meteoros que caíram segundo IMPEF: ");
	scanf("%d", &qtdMeteoros);
	
	for(int i = 0; i < qtdMeteoros; i++){
		printf("Informe a Latitude(Y) do meteoro[%d]: ", (i + 1));
		scanf("%d", &posMet[0]);
		printf("Informe a Latitude(X) do meteoro[%d]: ", (i + 1));
		scanf("%d", &posMet[1]);
		if(posMet[0] > terreno[0] || posMet[1] > terreno[7] || posMet[0] < terreno[4] || posMet[1] < terreno[5])
			DropMeteoroOff();
		else{
			if(i == 0){
				posMet[2] = posMet[0];
				posMet[3] = posMet[1];
				printf("METEORO: ");
			}
			else{
				if(posMet[0] < casa[0]){
					if(posMet[1] < casa[1]){
						posMet[2] = casa[0] - posMet[0];
						posMet[3] = casa[1] - posMet[1];
					}
					else{
						
					}
				}
				else{
					if(posMet[1] < casa[1]){
						
					}
					else{
						
					}
				}
				
			}
		}
	}
	if(meteoroMaisProximo > 0)
		printf("Meteoro mais proximo: %d (Y: %d, X: %d)", (meteoroMaisProximo + 1), posMet[3], posMet[4]);
	else
		printf("Não caíram meteoros no terreno.");
	return 0;
}

